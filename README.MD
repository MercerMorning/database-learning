1. Схема БД
![schema](/assets/schema.png "schema")
2. Описание таблиц и полей
    - **products** - продуктов
        - id - идентификатор продукта
        - producer - идентификатор производителя
        - title - название
   - **product_categories** - категории продуктов
       - id - идентификатор категории продукта
       - product - идентификатор производителя
       - category - идентификатор категории
   - **categories** - категории
       - id - идентификатор категории
       - title - название
   - **producers** - производители
       - id - идентификатор производителя
       - title - название
       - inn - ИНН
   - **counterparty_products** - продукты поставщиков
       - id - идентификатор продукта поставщика
       - counterparty - идентификатор поставщика
       - product - идентификатор продукта
       - price - цена продукта
       - amount - количество продукта
   - **counterparties** - поставщики
       - id - идентификатор поставщика
       - title - название
       - inn - ИНН
   - **purchase_products** - продукты покупки
       - id - идентификатор продукта покупки
       - amount - количество продукта
       - total - суммарная цена
       - purchase - идентификатор покупки
       - counterparty_product - идентификатор продукта поставщика
   - **purchases** - покупки
       - id - идентификатор покупки
       - customer - идентификатор покупателя
       - created_at - дата и время покупки
       - total - суммарная цена
   - **customers** - покупатели
       - id - идентификатор покупателя
       - first_name - имя
       - second_name - фамилия
       - phone - номер телефона
3. Примеры бизнес-задач которые решает база
   - Фиксация покупок товаров у определенных поставщиков
   - Ведение наличия определенных товаров у поставщиков
   - Возможность хранить цену товара для каждого поставщика отдельно
   - Возможность делать расчет суммы покупки без привязки к самим товарам. Может быть полезно при расчете скидки
   - Возможность поиска одного продукта в нескольких категориях
   - Возможность отображать покупки конкретных покупателей

4. Возможные запросы\отчеты\поиски данных
   - поиск товаров по частичному совпадению названия
   - поиск всех продуктов по названию определенной категории
   
   - отчет всех покупок пользователя за май месяц
   - отчет цены на один и тот же товар у разных поставщиков, при условии что он есть в наличии
   - отчет списка товаров и цены на него у разных поставщиков
   - отчет покупателей, отсортированный по суммарному счету за все заказы
   - отчет по всем продуктам из заказа

5. Кардинальность полей/описание индексов/ограничения
    - **products**
        - поля:
          - id - высокая кардинальность
          - producer - средняя кардинальность [not null, REFERENCES producers]
          - title - высокая кардинальность  [not null]
        - индексы:
          - (title) - простой индекс для ускоренного поиска по названию продукта 
    - **product_categories**
        - поля:
          - id - высокая кардинальность
          - product - средняя кардинальность [not null, REFERENCES products]
          - category - средняя кардинальность [not null, REFERENCES categories]
    - **categories**
        - поля:
          - id - высокая кардинальность
          - title - высокая кардинальность [not null]
        - индексы:
          - (title) - простой индекс для ускоренного поиска по названию категории
    - **producers**
        - поля:
          - id - высокая кардинальность
          - title - высокая кардинальность [not null]
          - inn - высокая кардинальность [not null, length(inn) == 10]
      - индексы:
          - (title, inn) - составной индекс для ускоренного поиска по названию производителя и ИНН
    - **counterparty_products**
        - поля:
          - id - высокая кардинальность
          - counterparty - средняя кардинальность [not null, REFERENCES counterparties]
          - product - средняя кардинальность [not null, REFERENCES products]
          - price - высокая кардинальность [not null]
          - amount - средняя кардинальность [not null]
      - индексы:
          - (counterparty, product, price) - составной индекс для ускоренного поиска цен на продукты у поставщиков

    - **counterparties**
        - поля:
          - id - высокая кардинальность
          - title - высокая кардинальность [not null]
          - inn - высокая кардинальность [not null, length(inn) == 10]
      - индексы:
          - (title, inn) - составной индекс для ускоренного поиска по названию поставщика и ИНН
    - **purchase_products**
        - поля:
          - id - высокая кардинальность
          - amount - средняя кардинальность [not null]
          - total - высокая кардинальность [not null]
          - purchase - средняя кардинальность [not null, REFERENCES purchases]
          - counterparty_product - средняя кардинальность [not null, REFERENCES counterparty_products]
    - **purchases**
        - поля:
          - id - высокая кардинальность
          - customer - средняя кардинальность  [not null, REFERENCES customers]
          - created_at - средняя кардинальность [not null]
          - total - высокая кардинальность [not null]
      - индексы:
          - (customer, total) - составной индекс для ускоренной сортировки суммарного total за все заказы у каждого покупателя
          - (customer, created_at) - составной индекс для ускоренного поиска покупок конкретного пользователя в период

    - **customers**
        - поля:
          - id - высокая кардинальность 
          - first_name - средняя кардинальность [not null]
          - second_name - средняя кардинальность [not null]
          - phone - высокая кардинальность [not null, regex ^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$]
    